"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const command_1 = require("@oclif/command");
const child_process_1 = require("child_process");
class Test extends command_1.Command {
    async run() {
        const { args, flags } = this.parse(Test);
        process.chdir(`contracts/${args["contract-name"]}`);
        child_process_1.execSync(`cargo test ${flags["no-fail-fast"] ? "--no-fail-fast" : ""}`, { stdio: "inherit" });
    }
}
exports.default = Test;
Test.description = "Runs unit tests for a contract directory.";
Test.examples = [
    "$ terrain test counter",
    "$ terrain test counter --no-fail-fast",
];
Test.flags = {
    "no-fail-fast": command_1.flags.boolean({ description: "Run all tests regardless of failure." })
};
Test.args = [{ name: "contract-name", required: true }];
